{% extends "base.html" %}

{% block content %}
<div class="container my-5">
  <div class="alert alert-warning">
    <h4><i class="fas fa-exclamation-triangle me-2"></i>No Data Available</h4>

    {% if message %}
    <p><strong>{{ message }}</strong></p>
    {% endif %}

    <p>Possible reasons:</p>
    <ul>
      <li>No holdings in your Upstox account</li>
      <li>New holdings with no trading history</li>
      <li>Market holidays in selected date range</li>
      <li>Insufficient data permissions (check Upstox API access)</li>
      <li>API connection issues</li>
    </ul>

    {% if start_date and end_date %}
    <p>Debug info:</p>
    <ul>
      <li>Date range: {{ start_date }} to {{ end_date }}</li>
    </ul>
    {% endif %}

    <div class="mt-3">
      <a href="{{ url_for('home') }}" class="btn btn-secondary me-2">
        <i class="fas fa-home me-1"></i>Back to Dashboard
      </a>
      <form action="{{ url_for('refresh') }}" method="post" style="display: inline-block;">
        <button type="submit" class="btn btn-primary">
          <i class="fas fa-sync-alt me-1"></i>Refresh Data
        </button>
      </form>
    </div>
  </div>
</div>
{% endblock %}